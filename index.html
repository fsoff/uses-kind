<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>MSP Overlay – Types of Use (EN)</title>

  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    /* OPTION A: fully transparent background */
    html, body {
      width: 100%;
      height: 100%;
      font-family: 'Avenir Next', 'Avenir Next World', sans-serif;
      background: transparent;
    }

    .container {
      position: relative;
      width: 100%;
      max-width: 1600px;
      margin: 0 auto;
    }

    .container img {
      width: 100%;
      height: auto;
      display: block;
    }

    /* ---- Hotspots ----
       Requirement: >= 2 cm radius around each point.
       2 cm ≈ 75.6 px at 96 dpi → diameter ≈ 151 px.
       Using 160 px diameter for safety. */
    .hotspot {
      position: absolute;
      width: 160px;
      height: 160px;
      border: none;
      background: transparent;
      cursor: pointer;
      transform: translate(-50%, -50%);
      border-radius: 50%;
      z-index: 5;

      /* Debug helper (optional)
      background: rgba(255,255,255,0.12);
      outline: 2px dashed rgba(255,255,255,0.4);
      */
    }

    .tooltip {
      display: none;
      position: absolute;
      max-width: 380px;
      background-color: #6c8cc4;
      color: white;
      padding: 14px;
      border-radius: 12px;
      font-size: 15px;
      line-height: 1.35;
      z-index: 10;
      box-shadow: 0 8px 20px rgba(0,0,0,0.35);
    }

    /* Desktop hover */
    .hotspot:hover + .tooltip {
      display: block;
    }

    /* Mobile / touch */
    .tooltip.active {
      display: block;
    }

    /* Tooltip offset from hotspot centre */
    .tooltip.offset {
      transform: translate(18px, 18px);
    }

    /* Disable hover behaviour on touch-only devices */
    @media (hover: none) {
      .hotspot:hover + .tooltip {
        display: none;
      }
    }
  </style>
</head>

<body>
  <div class="container" id="container">

    <!-- IMAGE PATH: adjust if needed -->
    <img src="./uses-kind/uses-eng-exp.png"
         alt="Types of use – revised (EN)">

    <!-- G – Generic Use -->
    <button class="hotspot"
            style="left: 30.369%; top: 30.380%;"
            aria-label="Generic Use"></button>
    <div class="tooltip offset"
         style="left: 30.369%; top: 30.380%;">
      <strong>G – Generic Use</strong><br>
     reas where, in principle, all uses have the same priority, subject to specific and reciprocal
      regulation mechanisms defined or to be defined within national and international
      regulations or sectoral plans, in order to ensure safety, reduce and control
      environmental impacts, and promote coexistence among uses.
    </div>

 <!-- P – Priority Use (TOP-RIGHT) -->
<button class="hotspot"
        style="left: 76.770%; top: 30.603%;"
        aria-label="Priority Use"></button>
<div class="tooltip offset"
     style="left: 76.770%; top: 30.603%;">
  <strong>P – Priority Use</strong><br>
  Areas for which the Plan provides indications on priority use and development,
  also identifying other uses to be safeguarded or allowed through reciprocal
  regulation with the identified priority use.
</div>

<!-- R – Reserved Use (BOTTOM-RIGHT) -->
<button class="hotspot"
        style="left: 77.072%; top: 80.268%;"
        aria-label="Reserved Use"></button>
<div class="tooltip offset"
     style="left: 77.072%; top: 80.268%;">
  <strong>R – Reserved Use</strong><br>
  Areas reserved for a specific use. Other uses are permitted exclusively to meet
  the needs of the reserved use, or subject to exemptions and authorisations granted
  by the authority responsible for, or managing, the reserved use.
</div>

    <!-- L – Limited Use -->
    <button class="hotspot"
            style="left: 25.953%; top: 81.683%;"
            aria-label="Limited Use"></button>
    <div class="tooltip offset"
         style="left: 25.953%; top: 81.683%;">
      <strong>L – Limited Use</strong><br>
      Areas for which a prevailing use is identified, with other uses that may be present,
      with or without specific limitations, provided that they are compatible with the
      prevailing use.
    </div>

  </div>

  <script>
    /* Tap / click support (StoryMap-safe) */
    const container = document.getElementById('container');
    const hotspots = container.querySelectorAll('.hotspot');

    function closeAllTooltips() {
      container.querySelectorAll('.tooltip.active')
        .forEach(t => t.classList.remove('active'));
    }

    hotspots.forEach(h => {
      h.addEventListener('click', (e) => {
        e.stopPropagation();
        const tooltip = h.nextElementSibling;
        const isOpen = tooltip.classList.contains('active');
        closeAllTooltips();
        if (!isOpen) tooltip.classList.add('active');
      });
    });

    document.addEventListener('click', closeAllTooltips);
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') closeAllTooltips();
    });
  </script>
</body>
</html>
